# CLAUDE.md ‚Äî Garden UI (–µ–¥–∏–Ω—ã–π –≥–∞–π–¥ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç ‚Äî **–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∫ –¥–µ–π—Å—Ç–≤–∏—é** –¥–ª—è Claude/–ª—é–±–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞: –∫–∞–∫ –≤–Ω–æ—Å–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è, –≥–¥–µ —á—Ç–æ –ª–µ–∂–∏—Ç, –∫–∞–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–∏–º–µ–Ω—è—Ç—å, –∫–∞–∫–∏–µ —Ç–µ—Å—Ç—ã –∏ CI-–≥–µ–π—Ç—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã.

## 1) –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç–∞

### –¶–µ–ª—å

–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è Garden API. –ü–æ–∑–≤–æ–ª—è–µ—Ç:
- –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤ (–ø—É–±–ª–∏—á–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞).
- –£–ø—Ä–∞–≤–ª—è—Ç—å —Å–µ—Ä–≤–∏—Å–∞–º–∏, —Å–æ–±—ã—Ç–∏—è–º–∏, —à–∞–±–ª–æ–Ω–∞–º–∏ (–∞–¥–º–∏–Ω–∫–∞).
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç).

### –°–≤—è–∑—å —Å Backend (–∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã)

Backend —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: https://github.com/bissquit/incident-garden

API —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è:
- –ò—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã: backend —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `api/openapi/openapi.yaml`.
- –õ–æ–∫–∞–ª—å–Ω–∞—è –∫–æ–ø–∏—è: `src/api/openapi.yaml`.
- –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã: `src/api/types.generated.ts`.

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ API:
```bash
npm run api:update    # –°–∫–∞—á–∞—Ç—å —Å–≤–µ–∂—É—é —Å–ø–µ–∫—É –∏–∑ backend
npm run api:generate  # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å TypeScript —Ç–∏–ø—ã
```

–ú–∞—Ç—Ä–∏—Ü–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏:

| Frontend | Backend  | –°—Ç–∞—Ç—É—Å       |
|----------|----------|--------------|
| 1.x.x    | >= 1.0.0 | ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º—ã |

–ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç: –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ backend API ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å —Å–ø–µ–∫—É, —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–∏–ø—ã, –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏ TypeScript.

---

## 2) –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã (playbook)

–≠—Ç–∞ —Å–µ–∫—Ü–∏—è ‚Äî –≥–ª–∞–≤–Ω–æ–µ: **–∫–∞–∫ –≤—ã–ø–æ–ª–Ω—è—Ç—å –ª—é–±—É—é –∑–∞–¥–∞—á—É**.

### –ê–ª–≥–æ—Ä–∏—Ç–º –¥–ª—è –ª—é–±–æ–π –∑–∞–¥–∞—á–∏

1. –£—Ç–æ—á–Ω–∏—Ç—å –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: –∫–∞–∫–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞/—Ñ–∏—á–∞/endpoint, —Ä–æ–ª–∏ –¥–æ—Å—Ç—É–ø–∞, UI —Å–æ—Å—Ç–æ—è–Ω–∏—è (loading/empty/error/success), —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ SSR/SEO.
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç: –µ—Å—Ç—å –ª–∏ endpoint –≤ `src/api/openapi.yaml`, –∫–∞–∫–∏–µ —Ç–∏–ø—ã —É–∂–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã, –Ω—É–∂–Ω–æ –ª–∏ –æ–±–Ω–æ–≤–∏—Ç—å —Å–ø–µ–∫—É.
3. –°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å ¬´–≥—Ä–∞–Ω–∏—Ü—ã¬ª: –∫–∞–∫–∏–µ —Å–ª–æ–∏ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ–º (page ‚Üí feature component ‚Üí hook ‚Üí api client), –∫–∞–∫–∏–µ —Ç–µ—Å—Ç—ã –¥–æ–±–∞–≤–ª—è–µ–º.
4. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è: —Å–Ω–∞—á–∞–ª–∞ —Ç–∏–ø—ã/–≤–∞–ª–∏–¥–∞—Ü–∏–∏ (Zod), –∑–∞—Ç–µ–º hooks (TanStack Query), –∑–∞—Ç–µ–º UI.
5. –û—à–∏–±–∫–∏ –∏ UX: —è–≤–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏/–æ—à–∏–±–æ–∫/–ø—É—Å—Ç–æ—Ç—ã, —Ç–æ—Å—Ç—ã/–¥–∏–∞–ª–æ–≥–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è, error boundary (–µ—Å–ª–∏ —É–º–µ—Å—Ç–Ω–æ).
6. –¢–µ—Å—Ç—ã: unit/integration –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –ø–æ –º–∞—Ç—Ä–∏—Ü–µ –Ω–∏–∂–µ; E2E ‚Äî –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö flow.
7. –õ–æ–∫–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è: `npm run verify` (lint + typecheck + tests + build).
8. PR: –æ–ø–∏—Å–∞–Ω–∏–µ, —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –¥–ª—è UI, —á–µ–∫–ª–∏—Å—Ç DoD –≤—ã–ø–æ–ª–Ω–µ–Ω.

### Definition of Done (DoD) –¥–ª—è PR

PR —Å—á–∏—Ç–∞–µ—Ç—Å—è –≥–æ—Ç–æ–≤—ã–º, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –≤—Å—ë –Ω–∏–∂–µ:
- –ö–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º –∏–∑ —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞.
- –ù–µ—Ç –ø—Ä—è–º—ã—Ö HTTP –≤—ã–∑–æ–≤–æ–≤ –∏–∑ UI: —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ `src/api/*` –∏ hooks.
- –ï—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∞ loading/error/empty.
- –¢–∏–ø—ã –Ω–µ ¬´—Ä—É—á–Ω—ã–µ¬ª: –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è OpenAPI types + Zod —Å—Ö–µ–º—ã.
- –¢–µ—Å—Ç—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å–æ–≥–ª–∞—Å–Ω–æ –º–∞—Ç—Ä–∏—Ü–µ (–º–∏–Ω–∏–º—É–º).
- `npm run verify` –ø—Ä–æ—Ö–æ–¥–∏—Ç (lint + typecheck + test:coverage + build).
- –ï—Å–ª–∏ –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ—Ç–æ–∫–∏ ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω—ã/–æ–±–Ω–æ–≤–ª–µ–Ω—ã E2E —Ç–µ—Å—Ç—ã Playwright.
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ (–≤–∫–ª—é—á–∞—è —ç—Ç–æ—Ç CLAUDE.md, –µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å –ø—Ä–∞–≤–∏–ª–∞/—Å—Ç—Ä—É–∫—Ç—É—Ä–∞/–∫–æ–º–∞–Ω–¥—ã).

### –§–ª–∞–≥–∏ –∑–∞–¥–∞—á

–î–ª—è –±—ã—Å—Ç—Ä–æ–π –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∑–∞–¥–∞—á –∏—Å–ø–æ–ª—å–∑—É–π –ø—Ä–µ—Ñ–∏–∫—Å—ã:
`[COMPONENT]`, `[PAGE]`, `[HOOK]`, `[FIX]`, `[REFACTOR]`, `[TEST]`, `[CI]`, `[DOCS]`

---

## 3) –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫ (—Ñ–∏–∫—Å–∏—Ä—É–µ–º —Ä–µ—à–µ–Ω–∏—è)

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç        | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è              | –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ                              |
|------------------|-------------------------|------------------------------------------|
| Framework        | Next.js 14 (App Router) | SSR –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã, SEO          |
| Language         | TypeScript 5            | Type safety, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAPI        |
| Styling          | Tailwind CSS 3          | Utility-first, –±—ã—Å—Ç—Ä–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞        |
| UI Components    | shadcn/ui               | –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è    |
| State Management | TanStack Query v5       | Server state, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è |
| Forms            | React Hook Form + Zod   | –í–∞–ª–∏–¥–∞—Ü–∏—è, type safety                   |
| API Client       | openapi-fetch           | Type-safe –∑–∞–ø—Ä–æ—Å—ã –∏–∑ OpenAPI —Å–ø–µ–∫–∏       |
| Icons            | Lucide React            | –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∞—è –∏–∫–æ–Ω–æ–≥—Ä–∞—Ñ–∏—è                |
| Testing          | Vitest + Playwright     | Unit/Integration + E2E                   |
| Linting          | ESLint + Prettier       | Code quality                             |

---

## 4) –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –≥—Ä–∞–Ω–∏—Ü—ã (—Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ)

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–æ—Ä–∏–µ–Ω—Ç–∏—Ä)

```text
garden-ui/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ openapi.yaml          # –ö–æ–ø–∏—è —Å–ø–µ–∫–∏ –∏–∑ backend
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types.generated.ts    # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã (–ù–ï —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ client.ts             # –ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π API –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ app/                      # Next.js App Router
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ (public)/             # –ü—É–±–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (SSR/SSG, –±–µ–∑ auth)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ page.tsx          # –ì–ª–∞–≤–Ω–∞—è ‚Äî —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ history/          # –ò—Å—Ç–æ—Ä–∏—è —Å–æ–±—ã—Ç–∏–π
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ layout.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ (auth)/               # Auth —Å—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ login/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ register/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ layout.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dashboard/            # –ó–∞—â–∏—â—ë–Ω–Ω–∞—è –∑–æ–Ω–∞ (operator/admin)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ page.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ groups/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ events/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ layout.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ settings/             # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ profile/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ channels/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ subscriptions/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ layout.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx            # Root layout
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ providers.tsx         # React Query, Auth providers
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ globals.css
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ui/                   # shadcn/ui (–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∞—Ç–æ–º—ã)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layout/               # layout-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (header/sidebar/footer)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ features/             # —Ñ–∏—á–∏/–¥–æ–º–µ–Ω—ã (auth/services/events/status/...)
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ hooks/                    # hooks —É—Ä–æ–≤–Ω—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (use-auth, use-services...)
‚îÇ   ‚îú‚îÄ‚îÄ lib/                      # —É—Ç–∏–ª–∏—Ç—ã/–≤–∞–ª–∏–¥–∞—Ü–∏–∏/–∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã/—Å–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îî‚îÄ‚îÄ types/                    # –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–æ–º–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã (–µ—Å–ª–∏ –Ω–µ –∏–∑ OpenAPI)
‚îÇ
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ unit/
‚îÇ   ‚îú‚îÄ‚îÄ integration/
‚îÇ   ‚îú‚îÄ‚îÄ e2e/
‚îÇ   ‚îî‚îÄ‚îÄ mocks/                    # MSW handlers
‚îÇ
‚îî‚îÄ‚îÄ .github/workflows/            # CI/CD (—Å–º. —Å–µ–∫—Ü–∏—é 9)
```

### –ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã —Å–ª–æ—ë–≤

- Pages (`src/app/**`) –æ—Ç–≤–µ—á–∞—é—Ç –∑–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é/–∫–æ–º–ø–æ–∑–∏—Ü–∏—é, –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –∏ –Ω–µ –¥–µ–ª–∞—é—Ç HTTP.
- Feature components (`src/components/features/**`) —Å–æ–¥–µ—Ä–∂–∞—Ç UI –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç hooks.
- Hooks (`src/hooks/**`) –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É—é—Ç TanStack Query (queryKey, queryFn/mutationFn, invalidate, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫).
- API —Å–ª–æ–π (`src/api/**`) ‚Äî –µ–¥–∏–Ω–æ–µ –º–µ—Å—Ç–æ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞, baseUrl, auth header –∏ –æ–±—â–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.
- `src/lib/**` ‚Äî —á–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (Zod), –º–∞–ø–ø–∏–Ω–≥–∏ —Å—Ç–∞—Ç—É—Å–æ–≤, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ–±—â–∏–µ policy.

–ï—Å–ª–∏ –ø—Ä–∞–≤–∏–ª–æ –Ω–∞—Ä—É—à–µ–Ω–æ ‚Äî —ç—Ç–æ –¥–∏–∑–∞–π–Ω-–±–∞–≥, –∞ –Ω–µ "–±—ã—Å—Ç—Ä–µ–µ —Å–¥–µ–ª–∞—Ç—å".

### –ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã (—è–≤–Ω–æ)

–ò—Å–ø–æ–ª—å–∑—É–µ–º —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã, —á—Ç–æ–±—ã –ø—Ä–æ–µ–∫—Ç –æ—Å—Ç–∞–≤–∞–ª—Å—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–º:

- Feature module pattern: ¬´—Ñ–∏—á–∞ = –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã + hooks + –≤–∞–ª–∏–¥–∞—Ü–∏–∏ + —Ç–µ—Å—Ç—ã¬ª –≤ –æ–¥–Ω–æ–º –¥–æ–º–µ–Ω–µ.
- Container/Presentational: —Ç—è–∂—ë–ª–∞—è –ª–æ–≥–∏–∫–∞ ‚Äî –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ/—Ö—É–∫–µ, UI ‚Äî –≤ –ø—Ä–æ—Å—Ç—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö.
- Functional core / imperative shell: –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö ‚Äî —á–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ `lib/`, React-—Å–ª–æ–π ‚Äî –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è.
- Single source of truth –¥–ª—è server state: TanStack Query, –±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º —Å—Ç–µ–π—Ç–µ (–∫—Ä–æ–º–µ UI —Å–æ—Å—Ç–æ—è–Ω–∏—è).
- Error as data: –µ–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—à–∏–±–æ–∫ –∏ –µ–¥–∏–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è (—Å–º. —Ä–∞–∑–¥–µ–ª ¬´–û—à–∏–±–∫–∏¬ª).
- SSR boundary: –ø—É–±–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ SSR/SSG; –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —á–∞—Å—Ç–∏ ‚Äî client components —Ç–æ—á–µ—á–Ω–æ.

---

## 5) –ö–æ–¥-—Å—Ç–∞–π–ª, best practices, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### Naming conventions

- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: `PascalCase`, –æ–¥–∏–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç = –æ–¥–∏–Ω —Ñ–∞–π–ª.
- –•—É–∫–∏: `camelCase` —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `use`.
- –£—Ç–∏–ª–∏—Ç—ã/—Ñ—É–Ω–∫—Ü–∏–∏: `camelCase`.
- –¢–∏–ø—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã: `PascalCase` + —Å—É—Ñ—Ñ–∏–∫—Å—ã –ø–æ —Å–º—ã—Å–ª—É (`Props`, `State`, `Params`, `Response`).
- –ò–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤/–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π: –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ `kebab-case` (–∫—Ä–æ–º–µ —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ Next.js –¥–∏–∫—Ç—É–µ—Ç –∏–º–µ–Ω–∞).

### –ü—Ä–∞–≤–∏–ª–∞ TypeScript

- –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `any` (–∫—Ä–æ–º–µ —É–∑–∫–∏—Ö "escape hatches", –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º –ø–æ—á–µ–º—É –∏ —Å—Å—ã–ª–∫–æ–π –Ω–∞ issue/–¥–æ–ª–≥).
- –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞—Ç—å `unknown` + narrowing.
- –î–ª—è –¥–∞–Ω–Ω—ã—Ö –æ—Ç API: —Ç–∏–ø—ã —Ç–æ–ª—å–∫–æ –∏–∑ `types.generated.ts` + runtime-–≤–∞–ª–∏–¥–∞—Ü–∏—è Zod –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–∞—Ö (—Ñ–æ—Ä–º—ã, query params, user input).

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ UI

- –í—Å–µ–≥–¥–∞ —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è: loading / error / empty / success.
- –û–ø–∞—Å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (—É–¥–∞–ª–µ–Ω–∏–µ/–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ) ‚Äî —Ç–æ–ª—å–∫–æ —Å confirmation dialog.
- –î–ª—è –¥–æ–ª–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π ‚Äî disable –∫–Ω–æ–ø–æ–∫ + —Å–ø–∏–Ω–Ω–µ—Ä/loader.
- Accessibility: —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã, label –¥–ª—è inputs, –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ aria-–∞—Ç—Ä–∏–±—É—Ç—ã.

### –û—à–∏–±–∫–∏ (–µ–¥–∏–Ω–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞)

- 401: –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞—Ç—å logout/refresh flow, –∑–∞—Ç–µ–º redirect –Ω–∞ `/login` (–±–µ–∑ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤).
- 403: –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å "Access denied" (–±–µ–∑ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ –Ω–∞ login).
- 5xx/—Å–µ—Ç—å: user-friendly —Å–æ–æ–±—â–µ–Ω–∏–µ + –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å retry.

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–µ—Ä–∂–∞—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –º–∞–ø–ø–∏–Ω–≥ –æ—à–∏–±–æ–∫ –≤ `src/lib/api-error.ts` –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –≤ hooks.

---

## 6) –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ú–µ—Ö–∞–Ω–∏–∑–º

- –¢–∏–ø: JWT —Ç–æ–∫–µ–Ω—ã –æ—Ç backend API.
- Access token: –∫–æ—Ä–æ—Ç–∫–æ–∂–∏–≤—É—â–∏–π (15 –º–∏–Ω—É—Ç).
- Refresh token: –¥–æ–ª–≥–æ–∂–∏–≤—É—â–∏–π (7 –¥–Ω–µ–π).

### –•—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞)

```ts
// ‚ùå –ù–ò–ö–û–ì–î–ê –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å localStorage/sessionStorage –¥–ª—è —Ç–æ–∫–µ–Ω–æ–≤ (XSS).

// ‚úÖ –î–æ–ø—É—Å—Ç–∏–º–æ: —Ö—Ä–∞–Ω–∏—Ç—å access token –≤ –ø–∞–º—è—Ç–∏ (React state/context).
const [accessToken, setAccessToken] = useState<string | null>(null);

// Refresh token:
// - –ò–¥–µ–∞–ª—å–Ω–æ: httpOnly cookie (—Ç—Ä–µ–±—É–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ backend).
// - –í—Ä–µ–º–µ–Ω–Ω–æ –¥–æ–ø—É—Å—Ç–∏–º–æ: –≤ –ø–∞–º—è—Ç–∏ (–º–∏–Ω—É—Å: —Ç–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã).
```

### Auth Flow (–∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç)

```text
1) Login
   POST /api/v1/auth/login { email, password }
   ‚Üí { data: { user, tokens: { access_token, refresh_token } } }
   ‚Üí —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ–∫–µ–Ω—ã –≤ state
   ‚Üí redirect /dashboard

2) Authenticated Request
   Authorization: Bearer <access_token>

3) Token Refresh (–ø—Ä–∏ 401)
   POST /api/v1/auth/refresh { refresh_token }
   ‚Üí –æ–±–Ω–æ–≤–∏—Ç—å —Ç–æ–∫–µ–Ω—ã
   ‚Üí –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å

4) Logout
   POST /api/v1/auth/logout { refresh_token }
   ‚Üí –æ—á–∏—Å—Ç–∏—Ç—å state
   ‚Üí redirect /login
```

### Security checklist

- –¢–æ–∫–µ–Ω—ã: –Ω–µ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å, –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ storage.
- API URL: —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ environment variables.
- Sensitive data: –Ω–µ –≤—ã–≤–æ–¥–∏—Ç—å –≤ console –∏ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –≤ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏.
- User input: –≤—Å–µ–≥–¥–∞ –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å Zod (–∏ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ, –∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω–µ, –≥–¥–µ –ø—Ä–∏–º–µ–Ω–∏–º–æ).

---

## 7) API integration (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏)

### –ö–ª–∏–µ–Ω—Ç

```ts
// src/api/client.ts
import createClient from 'openapi-fetch';
import type { paths } from './types.generated';

const baseUrl = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8080';

export const client = createClient<paths>({ baseUrl });

export function createAuthClient(accessToken: string) {
  return createClient<paths>({
    baseUrl,
    headers: {
      Authorization: `Bearer ${accessToken}`,
    },
  });
}
```

### –ü—Ä–∏–º–µ—Ä hook —Å TanStack Query

```ts
// src/hooks/use-services.ts
import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';
import { client } from '@/api/client';
import { ApiError } from '@/lib/api-error';

export function useServices() {
  return useQuery({
    queryKey: ['services'],
    queryFn: async () => {
      const { data, error, response } = await client.GET('/api/v1/services');
      if (error) throw ApiError.fromResponse(response.status, error);
      return data?.data ?? [];
    },
  });
}

export function useCreateService() {
  const queryClient = useQueryClient();

  return useMutation({
    mutationFn: async (body: CreateServiceRequest) => {
      const { data, error, response } = await client.POST('/api/v1/services', { body });
      if (error) throw ApiError.fromResponse(response.status, error);
      return data;
    },
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['services'] });
    },
  });
}
```

---

## 8) –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–º–∞—Ç—Ä–∏—Ü–∞ –∏ –ø–æ—Ä–æ–≥–∏)

### –ü–∏—Ä–∞–º–∏–¥–∞ —Ç–µ—Å—Ç–æ–≤

```text
         /\
        /  \     E2E (10%) ‚Äî –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ user flows (Playwright)
       /‚îÄ‚îÄ‚îÄ‚îÄ\
      /      \   Integration (30%) ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã + –º–æ–∫ API (MSW)
     /‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\
    /          \ Unit (60%) ‚Äî —Ö—É–∫–∏, —É—Ç–∏–ª–∏—Ç—ã, –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (Vitest)
   /‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\
```

### –ú–∞—Ç—Ä–∏—Ü–∞: —á—Ç–æ —á–µ–º –ø–æ–∫—Ä—ã–≤–∞—Ç—å

| –°–ª–æ–π/–∞—Ä—Ç–µ—Ñ–∞–∫—Ç                           | Unit          | Integration   | E2E           |
|-----------------------------------------|---------------|---------------|---------------|
| `lib/*` (utils, validations)            | ‚úÖ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ | ‚Äî             | ‚Äî             |
| `hooks/*` (–±–µ–∑ UI)                      | ‚úÖ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ | ‚Äî             | ‚Äî             |
| `components/features/*` (—Ñ–æ—Ä–º—ã, —Å–ø–∏—Å–∫–∏) | ‚Äî             | ‚úÖ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ | ‚Äî             |
| Auth flow (login/logout/refresh)        | ‚Äî             | ‚úÖ             | ‚úÖ             |
| CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ (create/edit/delete)      | ‚Äî             | ‚úÖ             | ‚úÖ (–∫—Ä–∏—Ç–∏—á–Ω—ã–µ) |
| –ü—É–±–ª–∏—á–Ω–∞—è status page                   | ‚Äî             | ‚úÖ             | ‚úÖ             |

### –ü–æ—Ä–æ–≥–∏ coverage (CI –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏)

```ts
// vitest.config.ts
coverage: {
  thresholds: {
    statements: 70,
    branches: 70,
    functions: 70,
    lines: 70,
  },
}
```

---

## 9) CI/CD (–µ–¥–∏–Ω—ã–µ –≥–µ–π—Ç—ã –∫–∞—á–µ—Å—Ç–≤–∞)

### –û–±–∑–æ—Ä workflows

| Workflow            | –¢—Ä–∏–≥–≥–µ—Ä         | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                   |
|---------------------|-----------------|------------------------------|
| `ci.yml`            | push, PR        | Lint, Typecheck, Test, Build |
| `e2e.yml`           | push to main, PR| E2E —Ç–µ—Å—Ç—ã —Å backend          |
| `release-please.yml`| push to main    | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–ª–∏–∑—ã        |
| `deploy.yml`        | release created | Deploy to Vercel/Netlify     |

–î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: —Å–º. `.github/workflows/ci.yml`, `e2e.yml`, `release-please.yml`.

### Quality gates –¥–ª—è PR

PR –Ω–µ –¥–æ–ª–∂–µ–Ω –º–µ—Ä–¥–∂–∏—Ç—å—Å—è, –µ—Å–ª–∏:
- —É–ø–∞–ª lint/typecheck/tests/build,
- coverage –Ω–∏–∂–µ –ø–æ—Ä–æ–≥–∞,
- e2e —É–ø–∞–ª–∏ (–∫–æ–≥–¥–∞ —Ç—Ä–µ–±—É—é—Ç—Å—è –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è/–≤–µ—Ç–∫–∏),
- –Ω–µ—Ç —Ç–µ—Å—Ç–æ–≤ –Ω–∞ –Ω–æ–≤—É—é –ª–æ–≥–∏–∫—É/—Ñ–æ—Ä–º—É/—Ö—É–∫.

### E2E –æ–∫—Ä—É–∂–µ–Ω–∏–µ

E2E workflow –ø–æ–¥–Ω–∏–º–∞–µ—Ç PostgreSQL service –∏ backend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
- `postgres:16-alpine` (–ø–æ—Ä—Ç 5432)
- `ghcr.io/bissquit/incident-garden:latest` (–ø–æ—Ä—Ç 8080)
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ: `DATABASE_URL`, `JWT_SECRET_KEY`

–ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç: –æ–±—Ä–∞–∑ backend –¥–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å OpenAPI –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É, –∏–∑ –∫–æ—Ç–æ—Ä–æ–≥–æ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Ç–∏–ø—ã —Ñ—Ä–æ–Ω—Ç–∞.

---

## 10) UI/UX –ø—Ä–∞–≤–∏–ª–∞ (–∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–ª—å–∑—è –Ω–∞—Ä—É—à–∞—Ç—å)

### –ü—É–±–ª–∏—á–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞

- –¶–µ–ª—å: –±—ã—Å—Ç—Ä–æ –ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å.
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: SSR/SSG, –º–∏–Ω–∏–º—É–º JS.
- Mobile-first: –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ.
- Accessibility: WCAG 2.1 AA.

–≠–ª–µ–º–µ–Ω—Ç—ã:
- Overall status indicator.
- –°–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–∏—Å–æ–≤ —Å —Ç–µ–∫—É—â–∏–º —Å—Ç–∞—Ç—É—Å–æ–º.
- –ê–∫—Ç–∏–≤–Ω—ã–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç—ã —Å timeline.
- –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ maintenance.
- –ò—Å—Ç–æ—Ä–∏—è –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π.

### Dashboard

- Layout: sidebar navigation + main content.
- –¢–∞–±–ª–∏—Ü—ã: –ø–∞–≥–∏–Ω–∞—Ü–∏—è/—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞/—Ñ–∏–ª—å—Ç—Ä—ã, –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å –º–Ω–æ–≥–æ.
- –§–æ—Ä–º—ã: inline validation, –ø–æ–Ω—è—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏, disable –ø—Ä–∏ submit.
- Feedback: toast notifications.

### –°—Ç–∞—Ç—É—Å—ã –∏ —Ü–≤–µ—Ç–∞

```ts
const statusColors = {
  operational: 'green',
  degraded: 'yellow',
  partial_outage: 'orange',
  major_outage: 'red',
  maintenance: 'blue',
} as const;

const severityColors = {
  minor: 'yellow',
  major: 'orange',
  critical: 'red',
} as const;
```

### –¶–≤–µ—Ç–æ–≤—ã–µ —Ç–µ–º—ã

–ü—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö —Ç–µ–º, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:

**–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–µ–º—ã:**
- **Garden** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) ‚Äî –∑–µ–ª–µ–Ω–∞—è —Ç–µ–ø–ª–∞—è –ø–∞–ª–∏—Ç—Ä–∞, –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –±—Ä–µ–Ω–¥–∞ Garden UI
- **Ocean** ‚Äî —Å–∏–Ω—è—è –ø—Ä–æ—Ö–ª–∞–¥–Ω–∞—è –ø–∞–ª–∏—Ç—Ä–∞ (–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è)
- **Sunset** ‚Äî –æ—Ä–∞–Ω–∂–µ–≤–æ-–∫—Ä–∞—Å–Ω–∞—è —Ç–µ–ø–ª–∞—è –ø–∞–ª–∏—Ç—Ä–∞
- **Forest** ‚Äî —Ç–µ–º–Ω–æ-–∑–µ–ª–µ–Ω–∞—è –≥–ª—É–±–æ–∫–∞—è –ø–∞–ª–∏—Ç—Ä–∞

**–†–µ–∂–∏–º—ã:** Light / Dark –¥–ª—è –∫–∞–∂–¥–æ–π —Ç–µ–º—ã.

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –¢–µ–º—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ `src/app/globals.css` —á–µ—Ä–µ–∑ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (HSL —Ñ–æ—Ä–º–∞—Ç)
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Ö—É–∫ `src/hooks/use-theme.ts`
- UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `src/components/layout/theme-switcher.tsx` –≤ header
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∞ –≤ localStorage

**–ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Ç–µ–º—É:**
1. –î–æ–±–∞–≤–∏—Ç—å CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `globals.css`:
   ```css
   [data-theme="mytheme"] {
     --primary: <hue> <saturation>% <lightness>%;
     /* –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ */
   }
   ```
2. –û–±–Ω–æ–≤–∏—Ç—å —Ç–∏–ø—ã –≤ `use-theme.ts`: –¥–æ–±–∞–≤–∏—Ç—å –≤ —Ç–∏–ø `Theme`
3. –î–æ–±–∞–≤–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ –≤ `theme-switcher.tsx`: `themeLabels`, `themeIcons`, `themeDescriptions`

**–í–∞–∂–Ω–æ:** –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Tailwind –∫–ª–∞—Å—Å—ã (`bg-background`, `text-foreground`, `text-primary` –∏ —Ç.–¥.), –∞ –Ω–µ –∂–µ—Å—Ç–∫–æ –∑–∞–¥–∞–Ω–Ω—ã–µ —Ü–≤–µ—Ç–∞.

---

## 11) Development: –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –∏ –∫–æ–º–∞–Ω–¥—ã

### –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

```bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/bissquit/garden-ui.git
cd garden-ui

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# 3. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å env
cp .env.example .env.local

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å backend (–≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
cd ../incident-garden
make docker-up

# 5. –ó–∞–ø—É—Å—Ç–∏—Ç—å frontend
npm run dev
```

### –ö–æ–º–∞–Ω–¥—ã

```bash
npm run dev           # Development server (localhost:3000)
npm run build         # Production build
npm run start         # Start production server
npm run lint          # ESLint
npm run lint:fix      # ESLint —Å –∞–≤—Ç–æ—Ñ–∏–∫—Å–æ–º
npm run typecheck     # TypeScript –ø—Ä–æ–≤–µ—Ä–∫–∞
npm run format        # Prettier
npm run test          # Unit + Integration —Ç–µ—Å—Ç—ã (watch)
npm run test:run      # Unit + Integration —Ç–µ—Å—Ç—ã (single run)
npm run test:coverage # –¢–µ—Å—Ç—ã —Å –æ—Ç—á—ë—Ç–æ–º coverage
npm run test:e2e      # E2E —Ç–µ—Å—Ç—ã (Playwright)
npm run verify        # lint + typecheck + test:coverage + build (CI parity)
npm run api:update    # –û–±–Ω–æ–≤–∏—Ç—å OpenAPI —Å–ø–µ–∫—É
npm run api:generate  # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–∏–ø—ã
```

### Environment variables

```bash
# .env.local
NEXT_PUBLIC_API_URL=http://localhost:8080
```

---

## 12) –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –∏ roadmap

### –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å (–≤–µ—Ä—Ö–Ω–µ—É—Ä–æ–≤–Ω–µ–≤–æ)

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç             | –°—Ç–∞—Ç—É—Å     | –û–ø–∏—Å–∞–Ω–∏–µ                      |
|-----------------------|------------|-------------------------------|
| Public Status Page    | üîú Planned | –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ —Å–µ—Ä–≤–∏—Å–æ–≤ |
| Auth (Login/Logout)   | üîú Planned | JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è            |
| Dashboard Layout      | üîú Planned | –û–±—â–∏–π layout –∞–¥–º–∏–Ω–∫–∏          |
| Services Management   | üîú Planned | CRUD —Å–µ—Ä–≤–∏—Å–æ–≤                 |
| Groups Management     | üîú Planned | CRUD –≥—Ä—É–ø–ø                    |
| Events Management     | üîú Planned | CRUD —Å–æ–±—ã—Ç–∏–π                  |
| Event Updates         | üîú Planned | Timeline –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π           |
| Templates             | üîú Planned | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞–º–∏          |
| Notification Channels | üîú Planned | Email, Telegram –∫–∞–Ω–∞–ª—ã        |
| Subscriptions         | üîú Planned | –ü–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è       |
| User Profile          | üîú Planned | –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è        |

### Roadmap

Phase 1: Foundation ‚úÖ **COMPLETED**
- [x] Project setup (Next.js, Tailwind, shadcn/ui)
- [x] API client –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–∏–ø–æ–≤
- [x] Auth (login, logout, protected routes)
- [x] Base layout (header, footer)
- [x] Unit —Ç–µ—Å—Ç—ã –¥–ª—è hooks –∏ utils
- [x] README.md —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π
- [x] –°–∫—Ä–∏–ø—Ç `npm run verify` –¥–ª—è CI parity

Phase 2: CI/CD
- [ ] GitHub Actions: lint, typecheck, test
- [ ] Release Please
- [ ] Dockerfile –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (multi-stage build)
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ docker-compose.yml (frontend + backend + postgres)

Phase 3: Public Pages
- [ ] Status page (—Å–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–∏—Å–æ–≤, —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å)
- [ ] Active incidents
- [ ] Scheduled maintenance
- [ ] History page
- [ ] Integration —Ç–µ—Å—Ç—ã –¥–ª—è status components

Phase 4: Dashboard ‚Äî Read
- [ ] Dashboard layout (sidebar)
- [ ] Services list
- [ ] Groups list
- [ ] Events list
- [ ] Event details —Å timeline
- [ ] Integration —Ç–µ—Å—Ç—ã –¥–ª—è dashboard

Phase 5: Dashboard ‚Äî Write
- [ ] Create/Edit/Delete services
- [ ] Create/Edit/Delete groups
- [ ] Create event (incident/maintenance)
- [ ] Add event updates
- [ ] Manage templates

Phase 6: User Settings
- [ ] Profile settings
- [ ] Notification channels (add, verify, enable/disable)
- [ ] Subscriptions management

Phase 7: Polish & Production Ready
- [ ] E2E —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö flows (–¥–æ–±–∞–≤–∏—Ç—å –≤ CI)
- [ ] Codecov –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] Dark mode
- [ ] Mobile optimization
- [ ] Loading skeletons
- [ ] Error boundaries
- [ ] Preview deployments (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] i18n (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## 13) –ö–∞–∫ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å CLAUDE.md

–û–±–Ω–æ–≤–ª—è—Ç—å CLAUDE.md –Ω—É–∂–Ω–æ, –µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –ª—é–±–æ–µ –∏–∑:
- —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤,
- –∫–æ–º–∞–Ω–¥–∞/—Å–∫—Ä–∏–ø—Ç,
- –ø—Ä–∞–≤–∏–ª–∞ —Ç–µ—Å—Ç–æ–≤ –∏–ª–∏ –ø–æ—Ä–æ–≥–∏ coverage,
- CI/CD –≥–µ–π—Ç—ã,
- auth/security –ø–æ–ª–∏—Ç–∏–∫–∞,
- —Å–æ–≥–ª–∞—à–µ–Ω–∏—è –æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞—Ö.

–ú–∏–Ω–∏-—á–µ–∫–ª–∏—Å—Ç –¥–ª—è PR (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ):
- [ ] CLAUDE.md –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω.
- [ ] Roadmap/–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –æ—Ç—Ä–∞–∂–∞—é—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å.

---

## 14) –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å Claude (—à–∞–±–ª–æ–Ω—ã –∑–∞–ø—Ä–æ—Å–æ–≤)

### –®–∞–±–ª–æ–Ω: –Ω–æ–≤–∞—è —Ñ–∏—á–∞/—Å—Ç—Ä–∞–Ω–∏—Ü–∞

–î–∞–π Claude:
- —Ü–µ–ª—å –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π,
- –∫–∞–∫–∏–µ endpoints –Ω—É–∂–Ω—ã,
- —Å–ø–∏—Å–æ–∫ UI —Å–æ—Å—Ç–æ—è–Ω–∏–π (loading/empty/error/success),
- —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ SSR/SEO,
- Definition of Done –¥–ª—è —ç—Ç–æ–π –∑–∞–¥–∞—á–∏ (—Ç–µ—Å—Ç—ã –∏ –≥–µ–π—Ç—ã).

### –®–∞–±–ª–æ–Ω: —Ä–∞–±–æ—Ç–∞ —Å API

- –ü—Ä–æ–≤–µ—Ä—å –Ω–∞–ª–∏—á–∏–µ endpoint –≤ OpenAPI.
- –ò—Å–ø–æ–ª—å–∑—É–π —Ç–æ–ª—å–∫–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã.
- –†–µ–∞–ª–∏–∑—É–π hook –Ω–∞ TanStack Query (—Å–º. –ø—Ä–∏–º–µ—Ä –≤ —Å–µ–∫—Ü–∏–∏ 7).
- –î–æ–±–∞–≤—å integration —Ç–µ—Å—Ç —á–µ—Ä–µ–∑ MSW.

### –®–∞–±–ª–æ–Ω: —Ç–µ—Å—Ç—ã

- Unit: —á–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏/–≤–∞–ª–∏–¥–∞—Ü–∏–∏/–º–∞–ø–ø–∏–Ω–≥.
- Integration: —Ñ–æ—Ä–º—ã + submit + –æ—à–∏–±–∫–∏.
- E2E: —Ç–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ flows (auth/CRUD/permissions).
